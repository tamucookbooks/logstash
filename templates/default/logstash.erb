LDAPTrustedGlobalCert CA_BASE64 /etc/httpd/libraryca.cert
<VirtualHost *:80>
  ServerAdmin yli@library.tamu.edu
  ServerName https://logstash.library.tamu.edu:443
  ProxyPreserveHost on
  SetEnv HTTPS on
  DocumentRoot /var/www/html
  ProxyPassMatch ^/(_aliases)$ http://localhost:9200/$1
  ProxyPassMatch ^/(_.*)$ http://localhost:9200/$1
  ProxyPassMatch ^/(.*_mapping)$ http://localhost:9200/$1
  ProxyPassMatch ^/(.*/_search)$ http://localhost:9200/$1
  ProxyPassMatch ^/(kibana-int/dashboard/.*)$ http://localhost:9200/$1
  ProxyPassMatch ^/(kibana-int/temp.*)$ http://localhost:9200/$1
  <Location />
    Order allow,deny
    Allow from all
    AuthType Basic
    AuthName "unauthorized use is prohibited; usage may be subjected to security testing and monitoring; misuse is subject to criminal prosecution; and users have no expect    ation of privacy except as otherwise provided by applicable privacy laws"
    AuthBasicProvider ldap
    AuthLDAPURL "<%=@ldapurl-%>"
    AuthLDAPBindDN "<%=@ldapbinddn-%>"
    AuthLDAPBindPassword "<%=@ldapbindpass-%>"
    require valid-user
  </Location>
</VirtualHost>
<VirtualHost *:9000>
  ServerAdmin yli@library.tamu.edu
  ServerName https://logstash.library.tamu.edu:9200
  ProxyPass / http://localhost:9200/
  ProxyPreserveHost on
  SetEnv HTTPS on
  <Location />
    Order allow,deny
    Allow from all
    AuthType Basic
    AuthName "unauthorized use is prohibited; usage may be subjected to security testing and monitoring; misuse is subject to criminal prosecution; and users have no expect    ation of privacy except as otherwise provided by applicable privacy laws"
    AuthBasicProvider ldap
    AuthLDAPURL "<%=@ldapurl-%>"
    AuthLDAPBindDN "<%=@ldapbinddn-%>"
    AuthLDAPBindPassword "<%=@ldapbindpass-%>"
    require valid-user
  </Location>
</VirtualHost>
